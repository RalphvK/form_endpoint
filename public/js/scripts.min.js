$.fn.button=function(t){this.on({"click touchend":function(e){if(e.stopPropagation(),e.preventDefault(),!0===e.handled)return!1;t.call(this),e.handled=!0}})},$.fn.buttonClass=function(t,e){this.on("click touchend",t,function(t){if(t.stopPropagation(),t.preventDefault(),!0===t.handled)return!1;e.call(this),t.handled=!0,t.stopImmediatePropagation()})};class Varset{constructor(t=null){t?this.data=t:(this.setKeysFromDocument(),this.setFromHTML()),this.updateInstances()}getAllIfUndefined(t){return t?[t]:Object.keys(this.data)}updateInstances(t=null){this.getAllIfUndefined(t).forEach(t=>{document.querySelectorAll('[data-var="'+t+'"]').forEach(e=>{e.innerHTML=this.getVariable(t)})})}getVariable(t){return this.data[t]}setVariable(t,e){this.data[t]=e,this.updateInstances(t)}getHTML(t){var e=document.querySelector('[data-var="'+t+'"]');return e?e.innerHTML:null}setFromHTML(t){this.getAllIfUndefined(t).forEach(t=>{this.data[t]=this.getHTML(t)})}getKeysInDocument(){var t=[];return document.querySelectorAll("*[data-var]").forEach(e=>{var a=e.getAttribute("data-var");-1==t.indexOf(a)&&t.push(a)}),t}setKeysFromDocument(){this.data={},this.getKeysInDocument().forEach(t=>{this.data[t]=this.data[t]?this.data[t]:""})}}function submitEditForm(t){var e={_method:"PUT",name:$("#name-field").val(),whitelist:$("#whitelist-field").val(),validation_rules:window.editor_rules.getValue(),notifiers:window.editor_notify.getValue()};$.ajax({url:t,type:"POST",data:e,success:function(t){location.reload()}})}function submitLoginForm(t){var e=$(t.target);$.ajax({url:"/auth/login",type:"POST",data:e.serialize(),success:function(t){"success"==t.status?(e.fadeOut("slow"),window.location.href="/admin"):(e.find("input").addClass("invalid"),e.find("input").one("keydown",function(){e.find("input").removeClass("invalid")}),loginError("Incorrect email address and / or password","ios-close-circle","creds-error"))},error:function(){loginError("Connection Error","ios-radio")}})}function loginError(t,e,a){if(a){if($("#"+a).length>0)return $("#errors .error-alert").addClass("show"),!1;a=`id="${a}" `}else a="";var n=`<div ${a}class="error-alert alert alert-danger alert-dismissible fade" role="alert">\n                    <span class="display-text small" data-var="error-message"><i class="icon ion-${e} icon-md"></i> ${t}</span>\n                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                        <span aria-hidden="true">&times;</span>\n                    </button>\n                </div>`;$("#errors").prepend(n),$("#errors .error-alert").addClass("show")}$.fn.materializeInputs=function(t){function e(t){t.setAttribute("value",t.value)}void 0===t&&(t="input, textarea"),this.find(t).each(function(){e(this)}),this.on("keyup",t,function(){e(this)})},$(document.body).buttonClass(".group-disabled input",function(){$(this).select()}),$(document).on("keydown","input, textarea",function(){$(".navbar-button").addClass("visible")});